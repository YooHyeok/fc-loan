# *핀테크 및 대출 도메인 이해*
<details>
<summary>접기/펼치기</summary>


## 핀테크란

`금융(Finance)` + `기술(Technology)`의 합성어
### 금융 이란?
자본에 이자를 부쳐 돈이 필요한 곳에 자본을 빌려주는 행워  
돈에 여유가 있는 사람이 쉽게 돈을 빌려주는 과정이 반복되는 행위  
은행, 증권, 보험회사 등 여러 시장들에서는 자본을 모집하고, 모집된 자본을 다른 시장에 빌려주는 모습이 반복되는 것이 금융산업이다.  

시간이 어느덧 흘러 아날로그식 수기로 흘러가던 금융산업에 IT산업이 더해지게 된다.  
IT산업은 우리 삶에서 뗄래야 뗄 수 없는 이미 삶 자체가 되어버렀다.  
우리는 하루 종일 스마트폰만 보고 있을 때도 있고, 스마트폰으로 모든 것을 다 해결할 수 있는 시대에 살고 있다.  
이렇게 우리, 나 자신 자체가 되어버린 것 같은 IT산업은 금융산업에도 IT가 손을 뻗게 된다.

금융의 본질은 단순하다고 생각할 수 있다.  
그러나 자본에이자를 붙여 돈이 필요한 곳에 빌려주는 이러한 금융산업의 응용 분야는 굉장히 광활하다.  

- Fintech
  - 송금
  - 결제
  - 자산관리
  - 투자

금융이라는 키워드 아래 많은 분야들이 존재한다.  
국내 핀테크 스타트업의 수만 보더라도 2020년 말 기준 484개나 된다고 한다.  
이러한 사례로 우리는 은행에 직접 가지 않고 온라인으로 송금을 하고, 내 계좌를 개설하고, 
나도 전혀 몰랐던 소비패턴도 알게되고, 내 소비패턴에 적절한 금융상품을 소개받는 등 삶속에서 손쉽게 금융을 접하고 있다.  

- 기대와 달리 Fin + 人(사람)인 경우가 많은 현실
- 기존 프로세스를 시스템화
- 비즈니스 이해를 통한 새로운 가치 창출
- 막대한 시간과 인력 투자의 필요성

하지만 핀테크라고 생각했던 우리의 기대와 달리 핀 플러스 사람인 경우가 굉장히 많은 현실을 우리는 살고 있다.  
사람만으로는 못하던 기술을 통해 새로운 상품과 프로세스를 만들어가는 즉, 새로운 가치 창출이라는 이상적인 그림을 꿈꾸었지만, 현실과 이상적인 것은 괴리가 있을 수 있다.  
금융산업을 이해함과 동시에 과거부터 운영되어 온 프로세스를 시스템화 하고 새로운 가치를 창출하는 게 정말 어려운 부분이기 때문이다.  
막대한 시간을 쏟을 수 있고, 인력을 원하는 만큼 뽑을 수 있는 이상적인 그림을 꿈꾼다면 될까 말까 일 것 같은데,  
아무튼 시스템화 하고 혁신적인 아이디어를 구체화하여 아웃풋을 낼 수 있는 여건과 역량이 부족한 것이 현재 핀테크 시장이 아닐까 싶다.  
(물론 굉장히 잘 해나가는 회사도 있음.)  
핀테크 산업 전반적으로 고민하기에는 이 시간이 너무 추상적인 것 같다.  
개발자이고 개발자를 희망하는 사람들이기에 현실적으로 고민해 볼 법한 부분은 무엇이 있을까?  
개발자가 어떤 역할을 해서 핀테크에서 테크를 완성해 나갈 수 있을지에 대해서 고민해봐야 될 필요성이 있다.  

- 혁신적인 아이디어는 많다
- 어떻게 요건을 현실화하여 Output을 만들어 낼 수 있는지가 핵심
- 개발자가 어떤 역할을 해서 Fintech 산업에서 Tech 를 완성?

세상에 혁신적인 아이디어는 굉장히 많다.  
그러나 생각에 그치지 않고 어떻게 요건을 현실화하여 아웃풋을 만들어낼 수 있는지가 굉장히 중요하다.  
백날 생각해봤자 이를 현실적으로 만들 수 없으면 의미없는 생각이 될 수 있다.  
아웃풋을 만들어내는 역할은 누가 가장 잘할 수 있을까?  
바로 개발자이다.  
우리는 어떻게 개발자가 어떤 역할을 해서 핀테크 산업에서 테크를 완성해나갈 수 있을지에 대해서 고민을 해봐야 한다.   

- 어떻게 Tech를 완성할 수 있는가?
- 많은 Fintech 영역 회사들이 요구하는 조건을 보자
- 
어떻게 Fintech를 완성할 수 있을까?  
많은 Fintech 영역 회사들은 어떤 개발자를 원하고 있을까?  
좋은 분들과 함께 일하기 위한 마음의 원하는 인재상이 있으며, 같이 일하고 싶은 동료들의 이러한 역량과 경험이 있으면 좋겠다 라고 하는 것의 집약체가 `Job Description` 이다.  
이러한 `Job Description`을 분석해보는 것도 핀테크 분야에서 원하는 개발자의 조건과 역량을 직접적으로 파악할 수 있는 좋은 방법일 것이다.  

#### 실제 특정 회사의 `Job Description` 예시 1
- Java Kotlin중 하나 이상의 언어에 능숙하신 분이 필요해요.
- **주어진 비즈니스에 대한 이해가 빠르고, 이에 필요한 시스템의 설계가 가능하신 분이 필요해요.**
- 성능 최적화와 운영 자동화를 위해 지속적인 노력을 하는 분이 필요해요.
- 글로벌 서비스 런칭 경험이 있는 분이면 좋아요.  

#### 실제 특정 회사의 `Job Description` 예시 2
- Go, Java, Kotlin, Python 중 하나 이상의 프로그래밍 언어를 이용해 서버 애플리케이션을 개발해본 경험이 요구됩니다.
- **프로젝트 진행에 있어특정 프로그램이 언어나 기술만을 고지하기보다는 합리적인 기술 의사 결정을 내릴 수 있는 유연함이 요구됩니다.**
- **다양한 직군과 원활한 의사소통이 가능하신 분을 찾고 있습니다.**
- 약 2년 이상의 서버 애플리케이션 개발 경력을 보유하신 분 혹은 그에 준하는 역량을 갖추신 분이어야 합니다.  

<br>

- 반드시 최신 기술 학습만이 정답일까? **NO!**
- 내가 개발할 **도메인 이해**의 중요성
- 문제 해결을 위한 합리적인 의사결정  

물론 최신 기술 학습도 중요하다. 빠르게 발전하고 있는 현실에 맞춰서 더 좋은 것을 배워서 적용할 수 있으면 당연히 좋다.  
그러나 이보다 더 중요한 것이 내가 개발할 도메인을 이해하고 있는가 이다.  
개발자는 문제 해결에 포커싱을 가지고 있어야 한다.  
단순히 기술을 추구하고 개발자 자신이 보기에 뿌듯한 서비스를 만든다고 해도 이는 의미가 없다.  
방망이 깎는 노인 처럼 장인정신으로써 소스코드를 만들어서 세상에 오픈한다고 해도 세상에서는 알아주지 않는?  
쉽게말해 돈을 벌지 못하는 서비스를 만든다고 하면 과연 의미가 있을까?  
단순히 기술을 추구하고 개발자 자신이 보기에 뿌듯한 서비스라고 해도 이게 세상에서 가치를 낼 수 없으면 의미가 없다.  
백날 리팩토링하고 코드 구조를 잘 짜서 만들더라도 돈을 벌지 못하는 서비스라면 의미 없는 서비스로서 비춰질 수 있기 때문이다.  
즉 우리는 문제 해결을 위해 합리적인 의사결정을 할 수 있는 역량 또한 중요하다.  
기술적인 부분이 대한 고민과 비즈니스에 대한 고민이 적절하게 협의를 해 이뤄서 합리적으로 의사결정을 할 수 있도록 판단할 수 있는 역량이 중요하다는 의미이다.
  

- 알고 있는가?
  - 내가 무엇을 만들고 있는지?
  - 내가 무엇을 만들고 싶은지?
  - 내가 왜 만들고 있는지?
  - 내가 왜 만들어야 하는지?
  - 내가 만드는 Output이 어떤 Impact 를 낼 수 있는지?
- Fintech 분야를 떠나 모든 개발자들에게 필요

아무런 의심 없이 호기심 없이 만들라고 하는 대로 만드는 수동적인 마인드는 개발자로서 피해야 될 마인드이다.  
우리는 왜 만들고 무엇을 만들어야 되는지 인지하고 있는 상태에서 개발을 해야 한다.  
예를들어 *"위에서 하라고 해서 만들었어요" "이 기능 뭐에요?" "그냥 저는 만들라고 해서 만들었는데요?"* 이런 부분들은 굉장히 피해야 되는 부분이다.
물론 금융에는 이것이 굉장히 어려울 수 있다.  
금융은 정말 단순하게 정의할 수 있다고 하더라도 굉장히 어려운 분야이다.  
그러나 이해하기 위한 노력을 계속해서 반복해야만 한다.  
이해하기 위해 전문가들을 찾아 의견을 구하고 인터넷에서 서칭도 해보고 이해를 계속해서 높여 감으로써 우리가 만들고 있는 아웃풋에 대해서 더욱 더 완성도 있고 가치 있는 산출물로 나올 수 있도록 계속해서 노력 해야 한다.  

</details>

# *대출 도메인 프로세스 및 Flow*

<details>
<summary>접기/펼치기</summary>

대출은 무조건 신청을 한다고 해서 받는것은 아니다.  
대출 요건이라던지, 금리라던지, 대출에 필요한 서류라던지 이러한 부분들을 상담을 통해 받아볼 수 있을것이다.  
나에게 적합한 대출 상품인지? 내가 이 조건에 해당하는지? 등 어떤 것들이 필요한지 미리 알 수 있어야 한다.  
사실 신청과 직접적으로 연관되어 있는 과정이라고 보기엔 어렵지만 대출 상담도 대출 프로세스의 과정 중 하나이다.  

1. `신청` [YES/NO]
2. `약관 동의`
3. `대출 신청서 작성`  
   (+ 희망한도)
4. `신청 조건` [YES/NO]
5. `입회 서류 등록`
6. `대출 신청`

그래서 대출 상담을 받고 상담을 받은 다음 대출을 신청하고자 결심한 차주(돈을 빌리고자 하는 사람)이 대출 신청을 하거나 아니면 상담 조건을 받은 뒤 마음에 별로 안들어 나한테는 돈이 안나올것 같아
이렇게 생각할 수 있다.  
두 가지 선택 길에서 `대출 신청을 한다`고 했을 때 대출을 받기 위한 `약관을 동의`하고
나는 이정도 `대출 한도`가 나와야 될 것 같은데 그래서 `대출 신청서를 작성`하고 `신청 조건`에 맞는지 안맞는지 결정에 따라 대출 신청에 필요한 `입회 서류`를 등록하는 과정을 거친 뒤 `대출 신청`을 하게 된다. 

- `신청 조건` → `대출 조건 제시`

`4.` 과정의 신청 조건을 돈을 빌려주는 기관에서 확인을 할것이다.  
돈을 갚을 수 있는지에 대해 조건을 까다롭게 봐야 될 것이다.  
만약 대출 신청의 조건에 맞을 때 이사람은 못갚을 것 같아 라고 판단되면 신청 프로세스는 종료될 것이며, 갚을 수 있을것이라 판단되면 대출 조건을 제시하게 될 것이다.
- `조건 수락` → `대출 약정` → `대출금 집행` → `차주`  

위와 같은 심사 과정을 거쳐 대출을 받고자 하는 사람입장에서 `조건을 수락`하거나 돈 이거밖에 안돼? 난 더 필요한데? 어? 이자가 더 높은데? `조건 거절` 두가지  선택을 할 수 있다.  
조건을 수락한다고 했을 때, 내가 언제부터 언제까지 돈을 빌려서 얼마의 이자를 매번 내면서 갚겠다는 `대출 약정`을 맺게 되고 이후 실제로 돈을 빌려주게 될것이다.  
이를 `대출금을 집행`한다고 표현 한다.

이후 부터는 대출금이 집행이 되고 차주는 정기적으로 대출금을 상한 하게 될것이다.  
대출 상한금과 이자를 더해 꼬박꼬박 갚으면 집행 됐던 최초 잔고에서 조금씩 대출금을 상환하게 될것이다.  
최족적으로 대출 상한을 완료하면 채무이행 관계가 끝남으로써 대출이 상한완료 되고 프로세스가 종료되게 된다.
</details>

# *대출 상담 도메인*

## 상담이란
"문제를 해결하거나 궁금증을 풀기 위하여 서로 의논함" `[출저: 네이버 국어사전]`   
대출을 받을 때도, 대출을 받기 위해 필요한 서류 혹은 조건 등등에 대한 궁금증을 풀기 위하여 상담이 필요할 수 있다.
상담에서 끝날 수도 있고, 상담에 이어 대출을 실제로 신청하는 과정까지 이어질 수 있다.  
어디까지나 처음 진입하는 단계라고 볼 수 있는 상담이 대출 프로세스의 필수 과정이라고 볼수는 없다.  
바로 대출신청을 할 수 있기 때문이다.  
하지만 무언가를 신청할 때 상담이 필요한 경우는 반드시 있다.  
이에 대출 상담 기능을 만들어 본다.

### 도메인 테이블 정의

#### [상담] 테이블
- **ID** : Long(BIGINT)
- **Soft Delete** : 물리적 삭제가 아닌 논리삭제 (Update로 상태 변경)
- **DATETIME** 데이터 생성/수정 시점을 시스템상 남기기 위해 시분초 포함
    - ***`TIMESTAMP`*** 고려 가능하나 국내 한정으로 대출신청이 들어올것이라 제한.  
      (UTC 지원이 가능한 TimeZone에 의존하는 타입으로 보통 글로벌 서비스에 고려해서 사용하면 좋다.  
      물론 국내 한정이라도 타임스탬프를 사용해도 전혀 문제는 없다.)


- Table 정의
  ```sql
  CREATE TABLE counsel (
    counsel_id BIGINT GENERATED BY DEFAULT AS IDENTITY,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL COMMENT '생성일자',
    is_deleted BIT DEFAULT FALSE NOT NULL COMMENT '이용가능여부',
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL COMMENT '수정일자',
    address VARCHAR(50) DEFAULT NULL COMMENT '주소',
    address_detail VARCHAR(50) DEFAULT NULL COMMENT '상세주소',
    applied_at DATETIME DEFAULT NULL COMMENT '신청일자',
    cell_phone VARCHAR(13) DEFAULT NULL COMMENT '전화번호',
    email VARCHAR(50) DEFAULT NULL COMMENT '상담 요청자 이메일',
    memo DEFAULT NULL COMMENT '상담 메모',
    name VARCHAR(12) DEFAULT NULL COMMENT '상담 요청자',
    zip_code VARCHAR(5) DEFAULT NULL COMMENT '우편번호',
    primary key (counsel_id)
  )
  ```
- Entity 정의
  ```java
  @Entity
  @Getter
  @Setter
  @Builder
  @NoArgsConstructor
  @AllArgsConstructor
  @DynamicInsert
  @DynamicUpdate // 변경감지를 통해 변경된 컬럼만 Update되도록 설정 (SQL문에 출력됨)
  @SQLDelete(sql = "UPDATE counsel SET deleted_at = NOW() where counsel_id = ?")
  @Where(clause = "is_deleted=false") // SELECT 조회시 is_deleted가 false인 경우만 조회되도록 WHERE절 설정
  public class Counsel extends BaseEntity {
      @Id
      @GeneratedValue(strategy = GenerationType.IDENTITY)
      @Column(nullable = false, updatable = false)
      private Long counselId;
      @Column(nullable = false, columnDefinition = "DATETIME DEFAULT NULL COMMENT '신청일자'")
      private LocalDateTime appliedAt;
      @Column(nullable = false, columnDefinition = "VARCHAR(12) COMMENT '상담 요청자'")
      private String name;
      @Column(nullable = false, columnDefinition = "VARCHAR(23) COMMENT '전화번호'")
      private String cellPhone;
      @Column(columnDefinition = "VARCHAR(50) DEFAULT NULL COMMENT '상담 요청자 이메일'")
      private String email;
      @Column(columnDefinition = "TEXT DEFAULT NULL COMMENT '상담 메모'")
      private String memo;
      @Column(columnDefinition = "VARCHAR(50) DEFAULT NULL COMMENT '주소'")
      private String address;
      @Column(columnDefinition = "VARCHAR(50) DEFAULT NULL COMMENT '상세주소'")
      private String address_detail;
      @Column(columnDefinition = "VARCHAR(5) DEFAULT NULL COMMENT '우편번호'")
      private String zipCode;
  }
  ```



# *대출 상담 등록 기능 구현*

### URL(POST)
```text
https://localhost:8080/counsels
```

### Request - CounselDTO.Request
```json
{
  "name": "김아무",
  "cellPhone": "010-1111-2222",
  "email": "yoohyeok@school.com",
  "memo": "대출 상담을 원합니다 .",
  "address": "서울 어딘구 여기동",
  "addressDetail": "123-45",
  "zipCode": "11122"
}
```

### Response - CounselDTO.Response
```json
{
  "result": {
      "code": "0000",
      "desc": "success"
  },
  "counselId": 1,
  "name": "김아무",
  "cellPhone": "010-1111-2222",
  "email": "yoohyeok@school.com",
  "memo": "대출 상담을 원합니다 .",
  "address": "서울 어딘구 여기동",
  "addressDetail": "123-45",
  "zipCode": "11122",
  "appliedAt": "2024-06-07T00:20:44.500463",
  "createdAt": "2024-06-07T00:20:44.533554",
  "updatedAt": "2024-06-07T00:20:44.533554"
}
```

# *대출 상담 조회 기능 구현*

### URL(GET)
```text
https://localhost:8080/counsels/{counselId}
```

### PathVariable - counselId
```text
Long : 1
```

### Response - CounselDTO.Response
```json
{
  "result": {
      "code": "0000",
      "desc": "success"
  },
  "counselId": 1,
  "name": "김아무",
  "cellPhone": "010-1111-2222",
  "email": "yoohyeok@school.com",
  "memo": "대출 상담을 원합니다 .",
  "address": "서울 어딘구 여기동",
  "addressDetail": "123-45",
  "zipCode": "11122",
  "appliedAt": "2024-06-07T00:20:44.500463",
  "createdAt": "2024-06-07T00:20:44.533554",
  "updatedAt": "2024-06-07T00:20:44.533554"
}
```

# *대출 상담 수정 기능 구현*

### URL(PUT)
```text
https://localhost:8080/counsels/{counselId}
```

### PathVariable - counselId
```text
Long : 1
```

### Request - CounselDTO.Request
```json
{
  "name": "박아무",
  "cellPhone": "010-3333-4444",
  "email": "yoohyeok@school.com",
  "memo": "대출 상담을 원합니다 . 2(메모 수정)",
  "address": "서울 어딘가구 여기동",
  "addressDetail": "923-45",
  "zipCode": "33322"
}
```

### Response - CounselDTO.Response
```json
{
  "result": {
      "code": "0000",
      "desc": "success"
  },
  "counselId": 1,
  "name": "박아무",
  "cellPhone": "010-3333-4444",
  "email": "yoohyeok@school.com",
  "memo": "대출 상담을 원합니다 . 2(메모 수정)",
  "address": "서울 어딘가구 여기동",
  "addressDetail": "923-45",
  "zipCode": "33322",
  "appliedAt": "2024-06-07T00:20:44.500463",
  "createdAt": "2024-06-07T00:20:44.533554",
  "updatedAt": "2024-06-07T00:20:44.533554"
}
```

# *대출 상담 삭제 기능 구현*

### URL(DELETE)
```text
https://localhost:8080/counsels/{counselId}
```

### PathVariable - counselId
```text
Long : 1
```

### Response - CounselDTO.Response
```json
{
  "result": {
      "code": "0000",
      "desc": "success"
  },
  "data" : null
}
```

# *대출 신청 프로세스 및 Flow*

1. **대출 신청**  
    고객이 대출 신청을 하게된다  
    물론 단순 변심에 의해 바로 종료가 될 가능성도 있다.
2. **약관동의**  
    대출신청 후 관련된 약관을 확인하고 동의하는 절차를 가진다.
3. **대출 신청서 작성**(+ 희망한도)  
    대출금을 희망하는 금액까지 같이 작성한다.
4. **신청 조건**  
   필수는 아니겠으나 기관에서 먼저 사전적으로 대출신청이 가능한 사람인지 여부를 확인할 수 있다.   
    혹은 시스템상 특정 금액 이상 혹은 미만에 대한 대출금은 신청할 수 없도록 하는 로직단에서도 자동으로 대출 신청 조건에 대해 부결 시킬 수 있다.
5. **입회 서류 등록**  
    실제 대출 심사를 위해 대출 신청자의 모든 조건을 확인해야 하는 시간이 있다.  
    신청과 관련된 입회 서류를 등록하는 절차도 추가 요구사항으로 포함될 수 있다.
6. **대출 신청**  
   최종 대출 신청을 하면 대출 심사를 기다리는 한 프로세스로 대출신청이 진행 된다.

### 도메인 키워드
- 신청서 작성
- 약관 등록
- 심사에 필요한 서류 제출
- 약관 등록은 분리하여 구현
- 신청정보 작성과 파일 업로드도 분리하여 구현
- 신청 조건에 따른 신청 상태 변경도 분리하여 구현

### 도메인 테이블 정의

#### [신청] 테이블
- **ID** : Long(BIGINT)
- **Soft Delete** : 물리적 삭제가 아닌 논리삭제 (Update로 상태 변경)
- 신청을 위해 필요한 기본 필드 정의


- Table 정의
  ```sql
  CREATE TABLE application (
    application_id BIGINT GENERATED BY DEFAULT AS IDENTITY,
    is_deleted BIT DEFAULT FALSE NOT NULL COMMENT '이용가능여부',
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL COMMENT '수정일자',
    applied_at DATETIME DEFAULT NULL COMMENT '신청일자',
    cell_phone VARCHAR(13) DEFAULT NULL COMMENT '전화번호',
    email VARCHAR(50) DEFAULT NULL COMMENT '상담 요청자 이메일',
    fee DECIMAL(5,4) DEFAULT NULL COMMENT '주소',
    hope_amount DECIMAL(15,2) DEFAULT NULL COMMENT '상세주소',
    interest_rate DECIMAL(5,4) DEFAULT NULL COMMENT '상담 메모',
    maturity DATETIME DEFAULT NULL COMMENT '만기',
    name VARCHAR(12) DEFAULT NULL COMMENT '신청자',
    primary key (application_id)
  )
  ```
- Entity 정의
  ```java
    @Entity
    @Getter
    @Setter
    @Builder
    @NoArgsConstructor
    @AllArgsConstructor
    @DynamicInsert
    @DynamicUpdate // 변경감지를 통해 변경된 컬럼만 Update되도록 설정 (SQL문에 출력됨)
    @Where(clause = "is_deleted=false") // SELECT 조회시 is_deleted가 false인 경우만 조회되도록 WHERE절 설정
    public class Application extends BaseEntity {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(nullable = false, updatable = false)
    private Long applicationId;
    @Column(columnDefinition = "DATETIME DEFAULT NULL COMMENT '신청일자'")
    private LocalDateTime appliedAt;
    @Column(columnDefinition = "VARCHAR(12) DEFAULT NULL COMMENT '신청자'")
    private String name;
    @Column(columnDefinition = "VARCHAR(23) DEFAULT NULL COMMENT '전화번호'")
    private String cellPhone;
    @Column(columnDefinition = "VARCHAR(50) DEFAULT NULL COMMENT '신청자 이메일'")
    private String email;
    @Column(columnDefinition = "DECIMAL(5,4) DEFAULT NULL COMMENT '취급수수료'")
    private BigDecimal fee;
    @Column(columnDefinition = "DECIMAL(15,2) DEFAULT NULL COMMENT '대출 신청 금액'")
    private BigDecimal hopeAmount;
    @Column(columnDefinition = "DECIMAL(5,4) DEFAULT NULL COMMENT '금리'")
    private BigDecimal interestedRate;
    @Column(columnDefinition = "DATETIME DEFAULT NULL COMMENT '만기'")
    private LocalDateTime maturity;
    }
  ```

# *대출 신청 등록 기능 구현*

### URL(POST)
```text
https://localhost:8080/applications
```

### Request - ApplicationDTO.Request
```json
{
  "name": "김아무",
  "cellPhone": "010-1111-2222",
  "email": "yoohyeok@school.com",
  "hopeAmount": "50000000"
}
```

### Response - ApplicationDTO.Response
```json
{
  "result": {
      "code": "0000",
      "desc": "success"
  },
  "applicationId": 1,
  "name": "김아무",
  "cellPhone": "010-1111-2222",
  "email": "yoohyeok@school.com",
  "hopeAmount": "50000000",
  "appliedAt": "2024-06-07T00:20:44.500463",
  "createdAt": "2024-06-07T00:20:44.533554",
  "updatedAt": "2024-06-07T00:20:44.533554"
}
```

# *대출 신청 조회 기능 구현*

### URL(GET)
```text
https://localhost:8080/applications/{applicationId}
```

### PathVariable - applicationId
```text
Long : 1
```

### Response - ApplicationDTO.Response
```json
{
  "result": {
    "code": "0000",
    "desc": "success"
  },
  "applicationId": 1,
  "name": "김아무",
  "cellPhone": "010-1111-2222",
  "email": "yoohyeok@school.com",
  "hopeAmount": "50000000",
  "appliedAt": "2024-06-07T00:20:44.500463",
  "createdAt": "2024-06-07T00:20:44.533554",
  "updatedAt": "2024-06-07T00:20:44.533554"
}
```

# *대출 상담 수정 기능 구현*

### URL(PUT)
```text
https://localhost:8080/applications/{applicationId}
```

### PathVariable - applicationId
```text
Long : 1
```

### Request - ApplicationDTO.Request
```json
{
  "name": "수정아무",
  "cellPhone": "010-3333-4444",
  "email": "update@success.com",
  "hopeAmount": "0"
}
```

### Response - ApplicationDTO.Response
```json
{
  "result": {
    "code": "0000",
    "desc": "success"
  },
  "data": {
    "applicationId": 1,
    "name": "수정아무",
    "cellPhone": "010-3333-4444",
    "email": "update@success.com",
    "hopeAmount": 0,
    "appliedAt": "2024-06-13T00:32:16.39708",
    "createdAt": "2024-06-13T00:32:16.437887",
    "updatedAt": "2024-06-14T00:03:46.6237035"
  }
}
```

# *대출 신청 삭제 기능 구현*

### URL(DELETE)
```text
https://localhost:8080/applications/{applicationId}
```

### PathVariable - applicationId
```text
Long : 1
```

### Response - ApplicationDTO.Response
```json
{
  "result": {
      "code": "0000",
      "desc": "success"
  },
  "data" : null
}
```

# 이용 약관
대출신청 후 관련된 약관을 확인하고 동의하는 절차를 가진다.
어떠한 특정 서비스를 이용하고자 할 때 약관에 대해서 동의를 한다.  
시스템 상에서 특정 약관에 대해 내려주기 위해서는 약관을 등록하고 조회할 수 있는 기능이 필요하다.  
보통은 고객이 등록한다는 것 보다는 내부 직원이 약관 관리자가 약관을 등록하는 형태가 될것이다.  
우리가 개발 했던 대출 신청을 예로 들면 `대출 신청 이용 약관`을 등록해야 되는 경우가 있고 해당 약관이 존재해야  
약관 신청 / 약관 동의를 할 수 있기 때문에 우선적으로 약관을 등록할 수 있는 기능을 구현해야 한다.

- 약관 등록 및 관리
- 최대한 간단하게, 세부 내용은 URL로 제공 (URL 까지 만들지는 않음)

---

- 테이블 정의
    ```sql
    CREATE TABLE terms (
        terms_id BIGINT GENERATED BY DEFAULT AS IDENTITY,
        created_at DATETIME DEFAULT CURRENT_TIMESTAMP NOT NULL COMMENT '생성일자',
        updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRNET_TIMESTAMP NOT NULL COMMENT '수정일자',
        is_deleted BIT DEFAULT FALSE NOT NULL COMMENT '이용가능여부',
        name VARCHAR(255) NOT NULL COMMENT '약관',
        terms_detail_url VARCHAR(255) NOT NULL COMMENT '약관상세 URL',
        PRIMARY KEY (terms_id)
    )
    ```

- Entity 정의
  ```java
  @Entity
  @Getter
  @Setter
  @Builder
  @NoArgsConstructor
  @AllArgsConstructor
  @DynamicInsert
  @DynamicUpdate // 변경감지를 통해 변경된 컬럼만 Update되도록 설정 (SQL문에 출력됨)
  @Where(clause = "is_deleted=false") // SELECT 조회시 is_deleted가 false인 경우만 조회되도록 WHERE절 설정
  public class TERMS extends BaseEntity {
      @Id
      @GeneratedValue(strategy = GenerationType.IDENTITY)
      @Column(nullable = false, updatable = false)
      private Long termsId;
      @Column(columnDefinition = "VARCHAR(255) DEFAULT NULL COMMENT '약관'")
      private String name;
      @Column(columnDefinition = "VARCHAR(255) DEFAULT NULL COMMENT '약관상세 URL'")
      private String termsDetailUrl;
    }
  ```

# *이용 약관 등록 기능 구현*

### URL(POST)
```text
https://localhost:8080/terms
```

### Request - TermsDTO.Request
```json
{
  "name": "김아무",
  "termsDetailUrl": "https://abc-storage.acc/exampletest"
}
```

### Response - TermsDTO.Response
```json
{
  "result": {
      "code": "0000",
      "desc": "success"
  },
  "termsId": 1,
  "name": "김아무",
  "termsDetailUrl": "https://abc-storage.acc/exampletest"
  "createdAt": "2024-06-07T00:20:44.533554",
  "updatedAt": "2024-06-07T00:20:44.533554"
}
```